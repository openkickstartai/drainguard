# drainguard
每一次 Kubernetes 滚动部署，旧 Pod 收到 SIGTERM 后有一个 grace period 来排空在途请求、关闭连接、刷缓冲区。现实是：绝大多数服务从未测试过这个路径。ENTRYPOINT 用了 shell form 导致信号根本传不到进程；代码里没注册 SIGTERM handler 直接被 SIGKILL；readiness probe 在关停期...
